<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Um recadinho para meu amorüíñ</title>
    <style>
        body {
            background: #ffe6f0;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            color: #d6336c;
            text-align: center;
            padding: 40px 20px;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }

        /* Fundo animado rosas.gif */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url('rosas.gif') center center / cover no-repeat;
            opacity: 0.2;
            pointer-events: none;
            z-index: 0;
        }

        #conteudo {
            display: none; /* conte√∫do escondido at√© clicar no bot√£o */
            position: relative;
            z-index: 10; /* acima do fundo dos nomes */
        }

        h1 {
            font-size: 3em;
            margin-bottom: 10px;
            animation: pulse 2s infinite;
            position: relative;
            z-index: 10;
        }

        #contador-namoro {
            font-size: 1.2em;
            color: #a12a50;
            margin-bottom: 20px;
            position: relative;
            z-index: 10;
            font-weight: bold;
        }

        #texto {
            font-size: 1.4em;
            margin: 20px auto 40px auto;
            max-width: 600px;
            line-height: 1.6;
            color: #b42e59;
            min-height: 180px;
            white-space: pre-wrap;
            position: relative;
            z-index: 10;
        }

        .carousel {
            max-width: 320px;
            margin: 0 auto 30px auto;
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(214, 51, 108, 0.5);
            z-index: 10;
        }

        .carousel img {
            width: 100%;
            display: none;
            border-radius: 20px;
        }

        .carousel img.active {
            display: block;
        }

        #btnAbrir {
            background-color: #d6336c;
            border: none;
            color: white;
            padding: 15px 30px;
            font-size: 1.5em;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(214, 51, 108, 0.7);
            transition: background-color 0.3s ease;
            position: relative;
            z-index: 10;
            margin-top: 150px;
            overflow: visible; /* pra explos√£o n√£o cortar */
        }

        #btnAbrir:hover {
            background-color: #a1274a;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .heart {
            position: fixed;
            bottom: 10px;
            right: 10px;
            font-size: 2em;
            color: #ff2e6d;
            animation: heartBeat 1.5s infinite;
            user-select: none;
            cursor: default;
            z-index: 20;
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        /* P√©talas caindo */
        .petala {
            position: fixed;
            top: -40px;
            width: 30px;
            height: 30px;
            background: url('petala.png') no-repeat center/contain;
            opacity: 0.9;
            animation-name: cair;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
            pointer-events: none;
            z-index: 5;
            filter: drop-shadow(0 0 1px #d6336c);
        }

        @keyframes cair {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.9;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        audio {
            display: none; /* esconde o player */
        }

        /* Fundo dos nomes animados */
        #nomes-fundo {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 1; /* atr√°s do conte√∫do */
            overflow: hidden;
        }

        #nomes-fundo span {
            position: absolute;
            font-size: 12px;
            font-weight: bold;
            color: rgba(214, 51, 108, 0.12);
            text-transform: uppercase;
            white-space: nowrap;
            font-family: 'Arial Black', Arial, sans-serif;
            user-select: none;
            will-change: transform;
        }

        /* Estilos para cora√ß√µes da explos√£o */
        .explosion-heart {
            position: absolute;
            color: #ff2e6d;
            pointer-events: none;
            user-select: none;
            filter: drop-shadow(0 0 2px #d6336c);
            animation-fill-mode: forwards;
            will-change: transform, opacity;
        }

        @keyframes flyUpFade {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) rotate(var(--rdeg)) scale(0.5);
            }
        }
    </style>
</head>
<body>

    <button id="btnAbrir">CLIQUE AQUIüíñ</button>

    <div id="conteudo">
        <h1>Para voc√™, minha princesaüíñ</h1>
        
        <div id="contador-namoro"></div>

        <div class="carousel">
            <img src="foto 0.jpg" alt="Foto 0" class="active" />
            <img src="foto 1.jpg" alt="Foto 1" />
            <img src="foto 2.jpg" alt="Foto 2" />
            <img src="foto 3.jpg" alt="Foto 3" />
            <img src="foto 4.jpg" alt="Foto 4" />
            <img src="foto 5.jpg" alt="Foto 5" />
            <img src="foto 6.jpg" alt="Foto 6" />
            <img src="foto 7.jpg" alt="Foto 7" />
            <img src="foto 8.jpg" alt="Foto 8" />
            <img src="foto 9.jpg" alt="Foto 9" />
        </div>

        <p id="texto"></p>

        <audio id="musica" loop>
            <source src="sol.mp3" type="audio/mpeg" />
        </audio>

        <div class="heart">‚ù§</div>
    </div>

    <div id="nomes-fundo"></div>

    <script>
        const btnAbrir = document.getElementById('btnAbrir');
        const conteudo = document.getElementById('conteudo');
        const musica = document.getElementById('musica');
        const nomesFundo = document.getElementById('nomes-fundo');

        // Textos a serem exibidos no carrossel
        const textos = [
            "Desde que te conheci, minha vida ganhou mais cor üíñ",
            "Voc√™ √© meu sonho realizado üíï",
            "Cada momento ao seu lado √© √∫nico ‚ú®",
            "Voc√™ √© a estrela mais brilhante no meu c√©u ‚ú®"
        ];
        
        // Data de in√≠cio do namoro para o contador
        const dataInicioNamoro = new Date('2025-02-22T20:31:00');
        
        let textoElemento;
        let textoIndex = 0;
        let images;
        let current = 0;
        
        // Vari√°veis para as p√©talas
        let petalasInterval;

        btnAbrir.addEventListener('click', () => {
            // Explode cora√ß√µes do bot√£o
            criarExplosaoCora√ß√µes(btnAbrir);

            // Esconde o bot√£o e mostra o conte√∫do
            btnAbrir.style.display = 'none';
            conteudo.style.display = 'block';

            // Toca a m√∫sica. O `.catch()` lida com a restri√ß√£o de autoplay.
            musica.play().catch(() => {
                console.log("Clique para liberar a reprodu√ß√£o da m√∫sica.");
            });


            // Inicia o resto do site
            iniciarSite();
        });

        function iniciarSite() {
            // Inicializa elementos ap√≥s a p√°gina ser exibida
            textoElemento = document.getElementById('texto');
            images = document.querySelectorAll('.carousel img');
            
            // Adiciona um listener para avan√ßar o carrossel a cada 5 segundos
            setInterval(avancar, 5000); 

            // Inicializa o carrossel de texto e imagens
            avancar();

            // Configura o contador do namoro
            atualizarContador();
            setInterval(atualizarContador, 1000);
            
            // Cria e anima as p√©talas caindo
            petalasInterval = setInterval(criarPetala, 500);

            // Inicia a anima√ß√£o de fundo com os nomes
            animarNomes();
        }

        // Fun√ß√µes do site
        
        function atualizarContador() {
            const agora = new Date();
            const diff = agora - dataInicioNamoro;
            
            const segundos = Math.floor(diff / 1000);
            const minutos = Math.floor(segundos / 60);
            const horas = Math.floor(minutos / 60);
            const dias = Math.floor(horas / 24);
            const anos = Math.floor(dias / 365);

            const textoContador = `Estamos juntos h√° ${anos} ano${anos !== 1 ? 's' : ''}, ${dias % 365} dia${(dias % 365) !== 1 ? 's' : ''}, ${horas % 24} hora${(horas % 24) !== 1 ? 's' : ''} e ${minutos % 60} minuto${(minutos % 60) !== 1 ? 's' : ''} ‚ù§Ô∏è`;
            
            document.getElementById('contador-namoro').textContent = textoContador;
        }
        
        function avancar() {
            images[current].classList.remove('active');
            current = (current + 1) % images.length;
            images[current].classList.add('active');

            textoIndex = (textoIndex + 1) % textos.length;
            textoElemento.textContent = textos[textoIndex];
        }
        
        function criarPetala() {
            const petala = document.createElement('div');
            petala.classList.add('petala');
            petala.style.left = Math.random() * 100 + 'vw';
            petala.style.animationDuration = Math.random() * 5 + 5 + 's';
            petala.style.animationDelay = Math.random() * -5 + 's';
            
            document.body.appendChild(petala);
            
            petala.addEventListener('animationend', () => {
                petala.remove();
            });
        }
        
        // A fun√ß√£o de anima√ß√£o de nomes de fundo foi refatorada e simplificada para melhor desempenho
        function animarNomes() {
            const nomesTexto = "Dyel e Deinha";
            const numNomes = 50;

            for(let i=0; i<numNomes; i++) {
                const span = document.createElement('span');
                span.textContent = nomesTexto;
                span.style.left = Math.random() * 100 + 'vw';
                span.style.top = Math.random() * 100 + 'vh';
                const size = 8 + Math.random() * 10;
                span.style.fontSize = size + 'px';
                
                const vx = (Math.random() - 0.5) * 0.3;
                const vy = (Math.random() - 0.5) * 0.3;
                
                span.style.transform = `translate(-50%, -50%)`;
                
                const animate = () => {
                    let x = parseFloat(span.style.left);
                    let y = parseFloat(span.style.top);
                    
                    x += vx;
                    y += vy;
                    
                    if(x < 0 || x > window.innerWidth) { x = x < 0 ? 0 : window.innerWidth; vx *= -1; }
                    if(y < 0 || y > window.innerHeight) { y = y < 0 ? 0 : window.innerHeight; vy *= -1; }
                    
                    span.style.left = x + 'px';
                    span.style.top = y + 'px';
                    
                    requestAnimationFrame(animate);
                };
                
                nomesFundo.appendChild(span);
                requestAnimationFrame(animate);
            }
        }
        
        // Fun√ß√£o para criar explos√£o de cora√ß√µes
        function criarExplosaoCora√ß√µes(botao) {
            const numCoracoes = 50;
            const rect = botao.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            for(let i=0; i<numCoracoes; i++) {
                const heart = document.createElement('div');
                heart.classList.add('explosion-heart');
                heart.textContent = '‚ù§';

                const size = (14 + Math.random() * 14) * 3;
                heart.style.fontSize = size + 'px';
                
                heart.style.left = centerX + 'px';
                heart.style.top = centerY + 'px';
                
                const angle = Math.random() * 2 * Math.PI;
                const distance = 150 + Math.random() * 150;
                const rotation = (Math.random() * 360) - 180;

                heart.style.setProperty('--tx', Math.cos(angle) * distance + 'px');
                heart.style.setProperty('--ty', Math.sin(angle) * distance + 'px');
                heart.style.setProperty('--rdeg', rotation + 'deg');
                
                const duration = 1200 + Math.random() * 800;
                heart.style.animation = `flyUpFade ${duration}ms forwards`;

                document.body.appendChild(heart);
                
                heart.addEventListener('animationend', () => {
                    heart.remove();
                });
            }
        }
    </script>
</body>
</html>